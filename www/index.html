<!DOCTYPE html>
<head>
	<title>example</title>
	<style>
        html, body { height: 100%; }
        body       { margin: 0px;  padding: 0px; background-color: #000; text-align: center; }	
        canvas     { height: 100%; vertical-align: middle; }
	</style>
</head>

<body>
	<canvas></canvas>
	<script src="js/three_v84.min.js"></script>
	<script src="three.msm.js"></script>
	
	<script>
        function Scene1() 
        {   extend(Scene, MSM.Scene);

            function Scene(game1) 
            {   var light;
                this.game   = game1;
                this.scene  = new THREE.Scene;
                this.camera = new THREE.PerspectiveCamera(62, this.game.width / this.game.height, 1, 1000);
                this.camera.position.set(0, 0, 5);
                    
                light       = new THREE.DirectionalLight(0xFFFFFF);
                light.position.set(1, 1, 1);
                this.scene.add(light);
                    
                this.obj    = new THREE.Mesh(new THREE.CubeGeometry(1, 1, 1), new THREE.MeshLambertMaterial({ambient: 0xFFFFFF}));
                this.scene.add(this.obj);
            }

            Scene.prototype.update = function() 
            {   //this.obj.rotation.y += THREE.Math.degToRad(360 / (this.game.fps * 10));
                this.obj.rotation.y += THREE.Math.degToRad(360 / (this.game.fps));
                return [[this.scene, this.camera]];
            };

            return Scene;
        }
            
        function Scene2() 
        {   extend(Scene, MSM.Scene);

            function Scene(game1) 
            {   var light;
                this.game   = game1;
                this.scene  = new THREE.Scene;
                this.camera = new THREE.PerspectiveCamera(62, this.game.width / this.game.height, 1, 1000);
                this.camera.position.set(0, 0, 5);
                    
                light       = new THREE.DirectionalLight(0xFFFFFF);
                light.position.set(1, 1, 1);
                this.scene.add(light);
                    
                this.obj    = new THREE.Mesh(new THREE.CubeGeometry(5,5,5), new THREE.MeshLambertMaterial({ambient: 0x0000FF}));
                this.scene.add(this.obj);
            }

            Scene.prototype.update = function() 
            {   //this.obj.rotation.y += THREE.Math.degToRad(360 / (this.game.fps * 10));
                this.obj.rotation.y += THREE.Math.degToRad(360 / (this.game.fps));
                return [[this.scene, this.camera]];
            };

            return Scene;
        }
        ///////////////////////////////////////////////////////////        
        //window.addEventListener("load", function() 
        //{   //var game = new MSM.Game(document.getElementsByTagName("canvas")[0], 30, 640, 480);
        //    var game = new MSM.Game(document.getElementsByTagName("canvas")[0]);
        //    return game.setScene(Scene(MSM.Scene)).start();
        //});

        //var game = new MSM.Game(document.getElementsByTagName("canvas")[0]);
        var game = new MSM.Game("canvas");
        game.setScene(Scene1()).start();
        
        //setTimeout(game.setScene(Scene1()).start(),100);
        //setTimeout((game.setScene(Scene2()).start()),1000000);

	</script>
</body>